# ๐ฐ Currency & Crypto Rates Service

ะัะธะฝััะพะฝะฝัะน ัะตัะฒะธั ะฝะฐ Python ะดะปั ะฟะพะปััะตะฝะธั ะฐะบััะฐะปัะฝัั ะบัััะพะฒ ะฒะฐะปัั ะธ ะบัะธะฟัะพะฒะฐะปัั.
ะัะธะปะพะถะตะฝะธะต ัะตะฐะปะธะทัะตั ะฟะฐััะตัะฝ **Facade**, ะฟะพะดะดะตัะถะธะฒะฐะตั **ะบััะธัะพะฒะฐะฝะธะต ะดะฐะฝะฝัั** ะธ ะฐะฒัะพะผะฐัะธัะตัะบะพะต **ะฒะพัััะฐะฝะพะฒะปะตะฝะธะต ะฟะพัะปะต ัะฑะพะตะฒ** (Retry Strategy).

---

## ๐ ะะพะทะผะพะถะฝะพััะธ

*  **ะัะธะฝััะพะฝะฝะพััั:** ะะฐะฑะพัะฐะตั ะฝะฐ 'asyncio' ะธ 'aiohttp' ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพะน ัะบะพัะพััะธ.
* **ะััะธัะพะฒะฐะฝะธะต:** ะกะพััะฐะฝัะตั ะดะฐะฝะฝัะต ะฒ ะปะพะบะฐะปัะฝัะน JSON-ัะฐะนะป ("data/rates.json"), ััะพะฑั ะฝะต ะฝะฐะณััะถะฐัั API ะธ ัะฐะฑะพัะฐัั ะฑััััะตะต.
* **ะัะบะฐะทะพัััะพะนัะธะฒะพััั:**
  * ะะฒัะพะผะฐัะธัะตัะบะธะต ะฟะพะฒัะพัะฝัะต ะฟะพะฟััะบะธ (Retries) ะฟัะธ ะพัะธะฑะบะฐั ัะตัะธ.
  * Fallback-ัััะฐัะตะณะธั: ะตัะปะธ API ะฝะตะดะพัััะฟะตะฝ, ะพัะดะฐะตั ะฟะพัะปะตะดะฝะธะต ะธะทะฒะตััะฝัะต ะดะฐะฝะฝัะต ะธะท ะบััะฐ.
* **ะะฐัะธัะฐ ะดะฐะฝะฝัั:** ะัะพะผะฐัะฝะฐั ะทะฐะฟะธัั ัะฐะนะปะพะฒ (ะทะฐัะธัะฐ ะพั ะฟะพะฒัะตะถะดะตะฝะธั ะบััะฐ ะฟัะธ ัะฑะพะต ะฟะธัะฐะฝะธั).
* **ะงะธััะฐั ะฐััะธัะตะบัััะฐ:** ะะฐะทะดะตะปะตะฝะธะต ะฝะฐ ัะปะพะธ (Client, Manager, Storage, Models).

---

## ๐งฉ Friendly API (ัะฟัะพััะฝะฝัะน ะทะฐะฟััะบ)
* **ะัะฟะพะปัะทัะนัะต ัะตัะฒะธั ะพะดะฝะพะน ัััะพะบะพะน:**

```python
from AsyncRates.core import run

run()
```



* **ะะพะปััะธัั ะดะฐะฝะฝัะต ะฑะตะท ะฒัะฒะพะดะฐ:**
```python
report = run(print_output=False)
print(report.currency)
print(report.crypto)
```

* **ะัะธะฝััะพะฝะฝะฐั ะฒะตััะธั:**

```python
import asyncio
from AsyncRates.core import run_async

asyncio.run(run_async())
```

## ๐ ะขะตัะฝะพะปะพะณะธะธ

*   **Python 3.12+**
*   **aiohttp** โ ะดะปั ะฐัะธะฝััะพะฝะฝัั HTTP-ะทะฐะฟัะพัะพะฒ.
*   **Frankfurter API** โ ะดะปั ะบัััะพะฒ ัะธะฐัะฝัั ะฒะฐะปัั (EUR, GBP, UAH).
*   **CoinGecko API** โ ะดะปั ะบัััะพะฒ ะบัะธะฟัะพะฒะฐะปัั (BTC, ETH, DOGE).

---

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ

1.  **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:**
    ```bash
    git clone https://github.com/PonyPaPony/async-rates.git
    cd async-rates
    ```
    
2. **ะกะพะทะดะฐะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต:**
    ```bash
    python -m venv venv
    source venv/Scripts/activate   # Windows
    source venv/bin/activate       # Linux/macOS
   ```
   
3. **ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:**
    ```bash
    pip install -r requirements.txt 
    ```
   
---

## โถ๏ธ ะะฐะฟััะบ

ะัะพััะพ ะทะฐะฟัััะธัะต ัะฐะนะป 'main.py' ะธะท ะบะพัะฝั ะฟัะพะตะบัะฐ:

```bash
python main.py
```
ะธะปะธ:

```python
from AsyncRates.core import run

run()
```
   
---

## ะัะธะผะตั ะฒัะฒะพะดะฐ:
```bash
2023-10-25 12:00:01 - INFO - ะัั ัััะฐัะตะป ะธะปะธ ะพััััััะฒัะตั. ะัะพะฑัั ะพะฑะฝะพะฒะธัั ัะตัะตะท API...
2023-10-25 12:00:02 - INFO - ะะฐะฝะฝัะต ััะฟะตัะฝะพ ะพะฑะฝะพะฒะปะตะฝั ะธะท API.

--- ะะะะฃะะฌะขะะข ---
====== ะะฃะะกะซ ะะะะฎะข ======
๐ต USD -> EUR: 0.8593
๐ต USD -> GBP: 0.7506
๐ต USD -> UAH: 36.5686

====== ะะะะะขะะะะะฎะขะ ======
๐ช BTC: $93,520.00
๐ช ETH: $3,295.17
๐ช DOGE: $0.15
```

---

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ
```bash
.
โโโ core/                 # friendly API (run, run_async)
โโโ data/                  # ะฅัะฐะฝะธะปะธัะต ะดะฐะฝะฝัั (ะบัั ะธ ะปะพะณะธ)
โโโ app_models/             # ะะพะดะตะปะธ ะดะฐะฝะฝัั (DTO)
โ   โโโ reports.py         # ะะปะฐัั RatesReport ะดะปั ะบัะฐัะธะฒะพะณะพ ะฒัะฒะพะดะฐ
โโโ services/              # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ api_client.py      # ะกะตัะตะฒะพะน ัะปะพะน (ะทะฐะฟัะพัั ะบ API)
โ   โโโ cache_manager.py   # ะกะปะพะน ััะฐะฝะตะฝะธั (ัะฐะฑะพัะฐ ั ัะฐะนะปะฐะผะธ)
โ   โโโ rate_manager.py    # ะคะฐัะฐะด (ัะฟัะฐะฒะปัะตั ะปะพะณะธะบะพะน ะพะฑะฝะพะฒะปะตะฝะธั)
โโโ tests/                 # ะฎะฝะธั-ัะตััั (pytest)
โโโ utils/                 # ะฃัะธะปะธัั
โ   โโโ logger.py          # ะะฐัััะพะนะบะฐ ะปะพะณะณะธัะพะฒะฐะฝะธั
โ   โโโ validators.py      # ะัะพะฒะตัะบะฐ ะดะฐะฝะฝัั
โโโ app_config.py          # ะะพะฝัะธะณััะฐัะธั ะฟัะธะปะพะถะตะฝะธั
โโโ main.py                # ะขะพัะบะฐ ะฒัะพะดะฐ
```

---

## ะะฐัััะพะนะบะฐ
ะัะต ะฝะฐัััะพะนะบะธ ะฝะฐัะพะดัััั ะฒ ัะฐะนะปะต app_config.py. ะั ะผะพะถะตัะต ะธะทะผะตะฝะธัั:
* ะกะฟะธัะพะบ ะพััะปะตะถะธะฒะฐะตะผัั ะฒะฐะปัั (SUPPORTED_CURRENCIES).
* ะกะฟะธัะพะบ ะบัะธะฟัะพะฒะฐะปัั (CRYPTO_MAPPING).
* ะัะตะผั ะถะธะทะฝะธ ะบััะฐ (MAX_AGE_MINUTES).
* ะััะธ ะบ ัะฐะนะปะฐะผ ะปะพะณะพะฒ ะธ ะบััะฐ.

---

## ๐จโ๐ป ะะฒัะพั
Denis - https://github.com/PonyPaPony
